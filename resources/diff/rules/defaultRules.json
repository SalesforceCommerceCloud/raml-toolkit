[
  {
    "name": "Detect display name changes in endpoint operations",
    "conditions": {
      "all": [
        {
          "fact": "diff",
          "path": "$.type",
          "operator": "contains",
          "value": "apiContract:Operation"
        },
        {
          "fact": "diff",
          "path": "$.added",
          "operator": "hasProperty",
          "value": "core:name"
        },
        {
          "fact": "diff",
          "path": "$.removed",
          "operator": "hasProperty",
          "value": "core:name"
        }
      ]
    },
    "event": {
      "type": "display-name-changed",
      "params": {
        "category": "Breaking",
        "changedProperty": "core:name"
      }
    }
  },
  {
    "name": "Detect removal of an endpoint operation",
    "conditions": {
      "all": [
        {
          "fact": "diff",
          "path": "$.type",
          "operator": "contains",
          "value": "apiContract:Operation"
        },
        {
          "fact": "diff",
          "path": "$.added",
          "operator": "hasNoProperty",
          "value": "core:name"
        },
        {
          "fact": "diff",
          "path": "$.removed",
          "operator": "hasProperty",
          "value": "core:name"
        }
      ]
    },
    "event": {
      "type": "operation-removed",
      "params": {
        "category": "Breaking",
        "changedProperty": "core:name"
      }
    }
  },
  {
    "name": "Detect removal of a parameter",
    "conditions": {
      "all": [
        {
          "fact": "diff",
          "path": "$.type",
          "operator": "contains",
          "value": "apiContract:Parameter"
        },
        {
          "fact": "diff",
          "path": "$.added",
          "operator": "hasNoProperty",
          "value": "core:name"
        },
        {
          "fact": "diff",
          "path": "$.removed",
          "operator": "hasProperty",
          "value": "core:name"
        }
      ]
    },
    "event": {
      "type": "parameter-removed",
      "params": {
        "category": "Breaking",
        "changedProperty": "core:name"
      }
    }
  },
  {
    "name": "Detect addition of a required parameter",
    "conditions": {
      "all": [
        {
          "fact": "diff",
          "path": "$.type",
          "operator": "contains",
          "value": "apiContract:Parameter"
        },
        {
          "fact": "diff",
          "path": "$.added",
          "operator": "hasProperty",
          "value": "core:name"
        },
        {
          "fact": "diff",
          "path": "$.added.apiContract:required",
          "operator": "equal",
          "value": true
        },
        {
          "fact": "diff",
          "path": "$.removed",
          "operator": "hasNoProperty",
          "value": "core:name"
        }
      ]
    },
    "event": {
      "type": "required-parameter-added",
      "params": {
        "category": "Breaking",
        "changedProperty": "core:name"
      }
    }
  },
  {
    "name": "Detect change in API version",
    "conditions": {
      "all": [
        {
          "fact": "diff",
          "path": "$.type",
          "operator": "contains",
          "value": "apiContract:WebAPI"
        },
        {
          "fact": "diff",
          "path": "$.added",
          "operator": "hasProperty",
          "value": "core:version"
        },
        {
          "fact": "diff",
          "path": "$.removed",
          "operator": "hasProperty",
          "value": "core:version"
        }
      ]
    },
    "event": {
      "type": "version-changed",
      "params": {
        "category": "Breaking",
        "changedProperty": "core:version"
      }
    }
  },
  {
    "name": "Ignore all changes in examples",
    "conditions": {
      "any": [
        {
          "fact": "diff",
          "path": "$.type",
          "operator": "contains",
          "value": "apiContract:Example"
        }
      ]
    },
    "event": {
      "type": "example-changed",
      "params": {
        "category": "Ignored"
      }
    }
  },
  {
    "name": "Ignore description changes in all nodes",
    "conditions": {
      "any": [
        {
          "fact": "diff",
          "path": "$.added",
          "operator": "hasProperty",
          "value": "core:description"
        },
        {
          "fact": "diff",
          "path": "$.removed",
          "operator": "hasProperty",
          "value": "core:description"
        }
      ]
    },
    "event": {
      "type": "description-changed",
      "params": {
        "category": "Ignored"
      }
    }
  }
]
